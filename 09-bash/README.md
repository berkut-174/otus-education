# Пишем скрипт

Написать скрипт для крона, который раз в час присылает на заданную почту:

- X IP адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
- Y запрашиваемых адресов (с наибольшим кол-вом запросов) с указанием кол-ва запросов c момента последнего запуска скрипта;
- все ошибки c момента последнего запуска;
- список всех кодов возврата с указанием их кол-ва с момента последнего запуска.

В письме должно быть прописан обрабатываемый временной диапазон и должна быть реализована защита от мультизапуска.

## Структура стенда

`Vagrantfile` — файл базовой конфигурации виртуального стенда

`script.sh` — bash скрипт для настройки стенда

`access.log` — файл лога для парсинга

`parser.sh` — скрипт для парсинга лога

## Решение

В качестве простого SMTP-сервера используется https://mailcatcher.me/. Для просмотра почты см. на хостовой машине http://127.0.0.1:8080.

Параметры запуска скрипта `parser.sh` находятся внутри скрипта: X, Y, SMTP (адрес, порт) и т.п.

Также скрипт `parser.sh` добавлен в планировщик, он будет запускаться каждый час в 01 минут.
