# Docker, docker-compose, dockerfile

## Задание

Создайте свой кастомный образ `nginx` на базе `alpine`. После запуска `nginx` должен отдавать кастомную страницу (достаточно изменить дефолтную страницу `nginx`).

Определите разницу между контейнером и образом. Вывод опишите в домашнем задании.

Ответьте на вопрос: можно ли в контейнере собрать ядро?

Собранный образ необходимо запушить в docker hub и дать ссылку на ваш репозиторий.

## Структура стенда

`Vagrantfile` — файл базовой конфигурации виртуального стенда

`Dockerfile` — файл c инструкциями для сборки образа `docker`

`nginx.conf` — файл конфигурации `nginx`

`index.html` — файл домашней страницы `nginx`

## Решение

Запустить стенд: `vagrant up`

Подключиться к стенду: `vagrant ssh`

Выполнить сборку образа:

```bash
cd /vagrant
sudo docker build -t berkut174/nginx .
```

Посмотреть список имеющихся образов:

```bash
sudo docker image ls
```

Запустить контейнер, выполнив проброс 80 порта из гостевой системы на 80 порт хоста:

```bash
sudo docker run -d -p 80:80 berkut174/nginx
```

Посмотреть список запущенных контейнеров:

```bash
sudo docker ps
```

## Дополнительные вопросы

> Определите разницу между контейнером и образом. Вывод опишите в домашнем задании.

Образ — это объект, представляющий набор слоёв, доступный только для чтения. Собрать образ можно на основе `Dockerfile`.
Контейнер же по сути является экземпляром образа, который, помимо прочего, включает дополнительный слой для записи данных.

> Ответьте на вопрос: можно ли в контейнере собрать ядро?

Да. Но потребуется установить необходимые пакеты для компиляции внутри контейнера.
