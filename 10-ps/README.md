# Работаем с процессами

## Задания на выбор

- написать свою реализацию `ps ax` используя анализ `/proc`
  Результат ДЗ - рабочий скрипт который можно запустить
- написать свою реализацию `lsof`
  Результат ДЗ - рабочий скрипт который можно запустить
- дописать обработчики сигналов в прилагаемом скрипте, оттестировать, приложить сам скрипт, инструкции по использованию
  Результат ДЗ - рабочий скрипт который можно запустить + инструкция по использованию и лог консоли
- реализовать 2 конкурирующих процесса по IO. пробовать запустить с разными `ionice`
  Результат ДЗ - скрипт запускающий 2 процесса с разными ionice, замеряющий время выполнения и лог консоли
- реализовать 2 конкурирующих процесса по CPU. пробовать запустить с разными `nice`
  Результат ДЗ - скрипт запускающий 2 процесса с разными nice и замеряющий время выполнения и лог консоли

## Решение

Мной был реализован простейший вариант скрипта (см. файл `script.sh`), который выводит на экран информацию аналогичную `lsof`. Скриптом поддерживается вывод информации для файлов и каталогов. В скрипте дополнительно реализованы: вывод справки (ключ `-h`),обработка основных исключений (отсутствие файла, проверка списка аргументов).

## Пример работы утилиты `lsof`

```bash
$ lsof .
COMMAND    PID       USER   FD   TYPE DEVICE SIZE/OFF    NODE NAME
bash     30754 shemetovav  cwd    DIR  259,2     4096 5260978 .
lsof    192303 shemetovav  cwd    DIR  259,2     4096 5260978 .
lsof    192304 shemetovav  cwd    DIR  259,2     4096 5260978 .
```

```bash
$ lsof myfile.odt
COMMAND     PID       USER   FD   TYPE DEVICE SIZE/OFF NODE NAME
soffice.b 32566 shemetovav   22u   REG   0,47     7091 2828 myfile.odt
```

## Пример работы скрипта

```bash
$ ./script.sh .
COMMAND  PID     USER        FD   TYPE     DEVICE  SIZE/OFF  NODE     NAME
bash     191320  shemetovav  255  каталог  66306   4096      5260978  .
bash     191322  shemetovav  cwd  каталог  66306   4096      5260978  .
column   191323  shemetovav  cwd  каталог  66306   4096      5260978  .
bash     30754   shemetovav  cwd  каталог  66306   4096      5260978  .
```

```bash
$ ./script.sh myfile.odt
COMMAND      PID    USER        FD  TYPE          DEVICE  SIZE/OFF  NODE  NAME
soffice.bin  32566  shemetovav  22  обычный файл  47      7091      2828  myfile.odt
```



